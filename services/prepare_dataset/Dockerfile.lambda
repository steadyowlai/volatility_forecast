FROM public.ecr.aws/lambda/python:3.11

RUN pip install --no-cache-dir \
    numpy==1.26.4 \
    pandas==2.2.1 \
    pyarrow==15.0.0 \
    boto3==1.34.0

COPY services/prepare_dataset/app.py ${LAMBDA_TASK_ROOT}/
COPY services/prepare_dataset/storage.py ${LAMBDA_TASK_ROOT}/

CMD ["app.lambda_handler"]
